/**
 * Created by maker on 2016/4/27.
 */
if(window.JSON&&window.JSON.stringify.toString().indexOf("[native code]")!==-1){window.JSONYoudao=window.JSON}else{window.JSONYoudao={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSONYoudao.stringify!=="function"){JSONYoudao.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSONYoudao.parse!=="function"){JSONYoudao.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());(function(){var a={createNode:function(d,c,f){var b=f||document;var e=b.createElement(d);if(c){a.each(c,function(g,h){if(g==="class"){e.className=h}else{e.setAttribute(g,h)}})}return e},isDOM:function(b){return b!==null&&b.nodeType===1},isArray:function(b){return Object.prototype.toString.call(b)==="[object Array]"},isFunction:function(b){return Object.prototype.toString.call(b)==="[object Function]"},browser:function(){var b={};var c=navigator.userAgent.toLowerCase();var d=null;if(d=c.match(/chrome\/([\d.]+)/)){b.chrome=d[1]}else{if(d=c.match(/firefox\/([\d.]+)/)){b.firefox=d[1]}else{if(d=c.match(/msie ([\d.]+)/)){b.msie=d[1]}}}return b}(),each:function(d,g,f){if(d===null){return}if(d.length===undefined||a.isFunction(d)){for(var c in d){if(d.hasOwnProperty(c)){if(g.call(f||d[c],c,d[c])===false){break}}}}else{for(var e=0,b=d.length;e<b;e++){if(g.call(f||d[e],e,d[e])===false){break}}}return d},indexOf:function(c,d){if(c.indexOf){return c.indexOf(d)}else{var b=-1;a.each(c,function(e){if(this===d){b=e;return false}});return b}},log:function(){if(window.console!==undefined&&window.console.log!==undefined){var d=a.makeArray(arguments);d.unshift("[YoudaoUtils]");try{window.console.log.apply(window.console,d)}catch(g){var b="[YoudaoUtils.log]";for(var f=0,c=arguments.length;f<c;f++){b+=(" "+arguments[f])}window.console.log(b)}}},makeArray:function(b){return Array.prototype.slice.call(b,0)},prototypeExtend:function(b,c){var d=a.isFunction(c)?c:function(){};d.prototype=b;return new d()},location:function(){return !!window.location?window.location:!!document.location?document.location:null},url:function(){var b=a.location();if(!!b&&b.href!==undefined){return b.href}else{return null}},bind:function(c,b,d){if(!d){return}if(c.addEventListener){c.addEventListener(b,d,false)}else{if(c.attachEvent){c.attachEvent("on"+b,d)}else{c["on"+b]=d}}return this},unbind:function(c,b,d){if(!d){return}if(c.removeEventListener){c.removeEventListener(b,d,false)}else{if(c.detachEvent){c.detachEvent("on"+b,d)}else{c["on"+b]=function(){}}}return this},stopPropagation:function(c){var b=c||window.event;if(b.stopPropagation){b.stopPropagation()}else{b.cancelBubble=true}return b},preventDefault:function(c){var b=c||window.event;if(b.preventDefault){b.preventDefault()}else{b.returnValue=false}return b},getSelectionText:function(){var b=null;if(window.getSelection){b=window.getSelection().toString()}if(!!b){return b}else{if(document.selection){return document.selection.createRange().text}else{return null}}},trim:function(b){return b.replace(/^\s*/,"").replace(/\s*$/,"")},parameter:function(c){var b=[];a.each(c,function(d,e){b.push(encodeURIComponent(d)+"="+encodeURIComponent(e))});return b.join("&")},formatTemplate:function(e,f){var c=document.createElement("div");for(var d in f){if(f.hasOwnProperty(d)){e=e.replace(new RegExp("{"+d+"}","g"),f[d])}}c.innerHTML=e;var b=c.firstChild;c.removeChild(b);return b},getDocumentCharset:function(){return document.characterSet||document.charset},css:function(){var b=function(g,c){var h="";if(c=="float"){document.defaultView?c="float":c="styleFloat"}if(g.style[c]){h=g.style[c]}else{if(g.currentStyle){h=g.currentStyle[c]}else{if(document.defaultView&&document.defaultView.getComputedStyle){c=c.replace(/([A-Z])/g,"-$1").toLowerCase();var d=document.defaultView.getComputedStyle(g,"");h=d&&d.getPropertyValue(c)}else{h=null}}}if((h=="auto"||h.indexOf("%")!==-1)&&("width"===c.toLowerCase()||"height"===c.toLowerCase())&&g.style.display!="none"&&h.indexOf("%")!==-1){h=g["offset"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase()]+"px"}if(c=="opacity"){try{h=g.filters["DXImageTransform.Microsoft.Alpha"].opacity;h=h/100}catch(i){try{h=g.filters("alpha").opacity}catch(f){}}}return h};return function(d,c){if(typeof c==="string"){return b(d,c)}else{a.each(c,function(e,f){d.style[e]=f})}}}(),hasClass:function(f,e){if(a.isDOM(f)){if(f.className===e){return true}var d=f.className.split(" ");for(var c=0,b=d.length;c<b;c++){if(e===d[c]){return true}}}return false},loadCSS:function(f,c){if(f&&f.createElement){var e=f.createElement("link");var b=a.generateResourceLink(c);e.setAttribute("rel","stylesheet");e.setAttribute("href",b);e.setAttribute("type","text/css");var d=f.getElementsByTagName("head")[0]||f.body;d.appendChild(e)}},loadCSSToLink:function(e,f,c){if(e){var d=e.getElementById(f);if(d){var b=a.generateResourceLink(c);d.setAttribute("href",b)}}},generateResourceLink:function(b){var c=null;if("@REVISION@"==="revision"){c=(new Date()).getTime()}else{c="@REVISION@"}return b.indexOf("?")===-1?b+"?"+c:b+"&"+c},addClass:function(f,e){if(a.isDOM(f)){var d=f.className.split(" ");for(var c=0,b=d.length;c<b;c++){if(e===d[c]){return}}d.push(e);f.className=d.join(" ")}},removeClass:function(f,e){if(a.isDOM(f)){var d=f.className.split(" "),g=[];for(var c=0,b=d.length;c<b;c++){if(e!==d[c]){g.push(d[c])}}f.className=g.join(" ")}},toggleClass:function(f,e){if(a.isDOM(f)){var d=f.className.split(" "),h=[],g="add";for(var c=0,b=d.length;c<b;c++){if(e===d[c]){g="remove"}else{h.push(d[c])}}if(g==="add"){d.push(e)}else{d=h}f.className=d.join(" ")}},scroll:function(){return{left:document.body.scrollLeft||document.documentElement.scrollLeft,top:document.body.scrollTop||document.documentElement.scrollTop}},windowSize:function(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}},storage:function(c,e){var d=function(g,h){var f=window.localStorage;if(h===undefined){return f.getItem(g)}if(g!==undefined&&h!==undefined){f.setItem(g,h);return h}};var b=function(g,h){var f=document.documentElement;f.addBehavior("#default#userData");if(h===undefined){f.load("youdao");return f.getAttribute(g)}if(g!==undefined&&h!==undefined){f.setAttribute(g,h);f.save("youdao");return h}};if(!!window.localStorage){return d(c,e)}if(!!document.documentElement.addBehavior){return b(c,e)}},cookie:function(b,e){function c(g,h){var i=30;var f=new Date();f.setTime(f.getTime()+i*24*60*60*1000);document.cookie=g+"="+encodeURIComponent(h)+";expires="+f.toGMTString()}function d(g){var f=document.cookie.match(new RegExp("(^| )"+g+"=([^;]*)(;|$)"));if(f!=null){return decodeURIComponent(f[2])}else{return null}}if(!!e){c(b,e)}else{return d(b)}},parseData:function(){var b={json:function(c){try{return c=JSONYoudao.parse(c)}catch(d){a.log("[Error]","Invalid JSON data:",c)}},xml:function(d){if(window.DOMParser){return(new DOMParser()).parseFromString(d,"text/xml")}else{var c=new ActiveXObject("Microsoft.XMLDOM");c.async="false";c.loadXML(d);return c}}};return function(c,d){if(a.isFunction(c)){return c(d)}if(typeof c!=="string"){a.log("[Error]","Function parseData() encounters invalid type");return d}else{if(!b[c]){a.log("[Error]","Function parseData() dosen't support this type:",c);return d}else{return b[c](d)}}}}(),guid:function(){var b=function(){var e=(1+Math.random())*65536;var d=e|0;var c=d.toString(16).substring(1);return c};return(b()+b()+"-"+b()+"-"+b()+"-"+b()+"-"+b()+b()+b())}()};window.YoudaoUtils=a})();(function(){if(Array.prototype.indexOf===undefined){Array.prototype.indexOf=function(e){var c=this;for(var d=0,b=c.length;d<b;d++){if(c[d]===e){return d}}return -1}}if(Function.prototype.bind===undefined){Function.prototype.bind=function(d){var b=this;var c=(arguments.length>1)?Array.prototype.slice(arguments,1):null;return function(){if(c===null){return b.call(d)}else{return b.apply(d,c)}}}}var a=function(){var c=this;var b=[];var d="rl.do";this.logToUrl=function(e){var f=b.length>=20?0:b.length;b[f]=new Image();b[f].src=e};this.log=function(h){var g=[];for(var f in h){g.push(encodeURIComponent(f)+"="+encodeURIComponent(h[f]))}var i=g.join("&");var e=d+"?"+i+"&ts="+(new Date()).getTime();c.logToUrl(e)}};window.YoudaoFanyiApi={};window.YoudaoFanyiApi.logger=new a()})();(function(b){function a(){var j=this;var d="^[a-z0-9][a-z0-9-]{4,16}[a-z0-9]$";var k=new RegExp(d,"i");this.isSiteName=function(n){if(n===undefined||n===null){return false}else{return k.test(n)}};var h="^(https|http)://((0|[1-9][0-9]{0,2}\\.){3}(0|[1-9][0-9]{0,2})|([a-z0-9-]+\\.){0,4}([a-z0-9][a-z0-9-]{0,61})?[a-z0-9]\\.[a-z]{2,6})(:[1-9][0-9]{1,4})?(/?|(/[a-z0-9!'()*._~#$&+,:;=?@%-]+)+/?)$";var i=new RegExp(h,"i");this.isUrl=function(n){if(n===undefined||n===null){return false}else{return i.test(n)}};this.isSiteInfo=function(n){if(n===undefined||n===null){return false}else{return n.length<=200}};var m="^0*(13|15|18)(\\d{9}|\\d-\\d{3}-\\d{5}|\\d-\\d{4}-\\d{4}|\\d{2}-\\d{3}-\\d{4}|\\d{2}-\\d{4}-\\d{3})$";var e=new RegExp(m);var g="^((0*\\d{1,4}|\\+\\d{1,4}|\\(\\d{1,4}\\))[ -]?)?(\\d{2,4}[ -]?)?\\d{3,4}[ -]?\\d{3,4}([ -]\\d{1,5})?$";var f=new RegExp(g);this.isPhone=function(n){if(n===undefined||n===null){return false}else{if(n.length<8||n.length>24){return false}else{return e.test(n)||f.test(n)}}};var c="^([a-z0-9_][a-z0-9_.-]*)?[a-z0-9_]@([a-z0-9-]+\\.){0,4}([a-z0-9][a-z0-9-]{0,61})?[a-z0-9]\\.[a-z]{2,6}$";var l=new RegExp(c,"i");this.isEmail=function(n){if(n===undefined||n===null){return false}else{if(n.length<6||n.length>32){return false}else{return l.test(n)}}};this.isContact=function(n){return j.isPhone(n)||j.isEmail(n)}}window.YoudaoFanyiApi.validator=new a()})(jQuery);(function(b,a){function c(){var i=this;var e=b("#siteName");var n=b("#siteAddr");var g=b("#siteInfo");var d=b("#contact");var o=b("#acceptIt");this.validate=function(){var r=j();var t=l(false);var s=f(false);var q=m(false);var p=k(false);return r&&t&&s&&q&&p};this.renderResult=function(q,r){var p=b("#applyResult");if(q.msg===0){p.find("h3").html("鏈夐亾缈昏瘧API鐢宠鎴愬姛");b("#key").html(q.key);b("#keyfrom").html(q.siteName);b("#resultDate").html(q.date);b("#resultSiteName").html(q.siteName);b("#resultSiteAddr").html(q.siteAddr);p.find(".keyValue").show();p.find("ul").show()}else{if(q.msg===2){p.find("h3").html("鎮ㄥ～鍐欑殑 <strong>缃戠珯鍚嶇О</strong> 鎴� <strong>缃戠珯鍦板潃</strong> 宸茶浣跨敤")}else{p.find("h3").html("鏈夐亾缈昏瘧API鐢宠澶辫触")}p.find(".keyValue").hide();p.find("ul").hide();r()}p.show()};this.init=function(){o.bind("change",function(){b("#acceptItMsg").addClass("invisible")});e.bind("blur",l);n.bind("blur",f);g.bind("blur",m);d.bind("blur",k)};function j(){if(o.attr("checked")){return true}else{b("#acceptItMsg").removeClass("invisible");return false}}function l(p){var r=b.trim(e.val());var q=(p===undefined)?true:p;return h(a.isSiteName,q,"siteName","缃戠珯鍚嶇О",r,null)}function f(p){var r=b.trim(n.val());var q=(p===undefined)?true:p;return h(a.isUrl,q,"siteAddr","缃戠珯鍦板潃",r,"http://")}function m(p){var r=b.trim(g.val());var q=(p===undefined)?true:p;return h(a.isSiteInfo,q,"siteInfo","缃戠珯璇存槑",r,null)}function k(q){var p=b.trim(d.val());var r=(q===undefined)?true:q;return h(a.isContact,r,"contact","鑱旂郴鏂瑰紡",p,null)}function h(t,s,u,q,v,r){var p=b("#"+u+"Msg");if(r===null&&v===""){if(s){p.addClass("invisible").html("")}else{p.html(q+"涓嶈兘涓虹┖").removeClass("invisible")}return false}else{if(r!==null&&v===r){if(s){p.addClass("invisible").html("")}else{p.html(q+"涓嶅悎娉�").removeClass("invisible")}return false}else{if(t(v)){p.addClass("invisible").html("");return true}else{if(u==="siteInfo"){p.html(q+"涓嶈兘瓒呰繃200瀛�").removeClass("invisible");return false}else{p.html(q+"涓嶅悎娉�").removeClass("invisible");return false}}}}}}window.YoudaoFanyiApi.apply=new c()})(jQuery,YoudaoFanyiApi.validator);(function(c,a){function b(){var g=this;this.init=function(){a.init();c("#apply").bind("click",f);e()};function f(){if(a.validate()===true){var h={path:"apply",siteName:c.trim(c("#siteName").val()),siteAddr:c.trim(c("#siteAddr").val()),siteInfo:c.trim(c("#siteInfo").val()),contact:c.trim(c("#contact").val()),ts:c.now()};c.ajax({url:"openapi",data:h,dataType:"json",success:function(k,l,j){a.renderResult(k,e);if(k.msg===0){var i=d(k.siteName,k.key);c("#resultHtml").html(i.html);c("#resultCode").html(i.code)}},error:function(i,k,j){e()}})}}function e(){var h=d("&lt;keyfrom&gt;","&lt;key&gt;");c("#resultHtml").html(h.html);c("#resultCode").html(h.code)}function d(l,k){var o=c("#demo").attr("mode");var j=null;var m=null;var n="http://fanyi.youdao.com/openapi.do?";var i=null;if(o==="selector"){j="YOUDAO_SELECTOR_WRAPPER";m="display:none; margin:0; border:0; padding:0; width:320px; height:240px;";i="translate=on"}else{if(o==="dicter"){j="YOUDAO_DICTER_WRAPPER";m="margin:0; border:0; padding:0; width:320px; height:240px;";i="select=on&translate=on"}else{if(o==="fanyier"){j="YOUDAO_FANYIER_WRAPPER";m="margin:0; border:0; padding:0; width:320px; height:240px;";i="select=on"}}}var h={};h.html='&lt;div id="'+j+'" style="'+m+'"&gt;&lt;/div&gt;';h.code='&lt;script type="text/javascript" src="'+n+"keyfrom="+l+"&key="+k+"&type="+o+"&version=1.2&"+i+'" charset="utf-8"&gt;&lt;/script&gt;';return h}}window.YoudaoFanyiApi.webMode=new b()})(jQuery,YoudaoFanyiApi.apply);(function(c,a){function b(){var f=this;this.init=function(){a.init();c("#apply").bind("click",e)};function e(){if(a.validate()===true){var g={path:"apply",siteName:c.trim(c("#siteName").val()),siteAddr:c.trim(c("#siteAddr").val()),siteInfo:c.trim(c("#siteInfo").val()),contact:c.trim(c("#contact").val()),ts:c.now()};c.ajax({url:"openapi",data:g,dataType:"json",success:function(i,j,h){a.renderResult(i,d);if(i.msg===0){c(".realKeyfrom").html(c.trim(c("#siteName").val()));c(".realKey").html(i.key)}},error:function(h,j,i){d()}})}}function d(){c(".realKeyfrom").html("&lt;keyfrom&gt;");c(".realKey").html("&lt;key&gt;")}}window.YoudaoFanyiApi.dataMode=new b()})(jQuery,YoudaoFanyiApi.apply);